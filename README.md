# Bank
Rest-сервис межбанковского взаимодействия, включает в себя множество банков, клиентов и счетов. 
Система рассмотрена с позиции отдельного банка, который имеет возможность контролировать остаток денежных средст на счете банка-отправителя при проведении расходных операций.

## Функционал приложения:
- пополнение счета наличными;
- снятие наличных со счета;
- перевод денежных средств внутри одного банка и между разными банками с контролем баланса и валюты платежа;
- в результате каждой операции формируется чек, который содержит детали проведенной операции и отображается пользователю в формате JSON, дополнительно сохраняется в формате pdf;
- регулярно по расписанию (раз в 30 сек) проверяется необходимость начисления ежемесячных процентов на остаток счета в конце месяца.
  Примечание: в приложении рассмотрено начисление процентов только по счетам, принадлежащим Clever-Bank;
- обеспечена безопасность проводимых транзакций, в случае сбоя откат происходит до состояния на момент начала операции;
- счет может быть открыт в одной из 4 валют(USD, EUR, RUB, BYN);
- для клиентов Clever-Bank реализована возможность получения выписки по счету за месяц, год либо за весь период обслуживания.
  Выписка отображается пользователю в формате JSON и сохраняется в формате pdf;
- CRUD-операции с банками;
- CRUD-операции с клиентами.

 ## Запуск приложения
1. создать папку на рабочем компьютере, где будет размещен проект;
2. войти в эту папку через командную строку и выполнить команду git clone https://github.com/YuliyaRR/Bank.git;
3. установить PostgreSQL (БД). Это можно сделать по ссылке https://www.postgresql.org/download/ согласно инструкциям на официальном сайте;
4. установить pgAdmin (графический интерфейс для работы с БД PostgreSQL). Это можно сделать по ссылке https://www.pgadmin.org/download/ согласно инструкциям на официальном сайте;
5. установить Gradle (система сборки). Это можно сделать по ссылке https://gradle.org/install/ согласно инструкциям на официальном сайте;
6. убедиться, что настроены переменные среды, в частности JAVA_HOME;
7. создать в pgAdmin базу данных bank и запустить ddl.sql, расположенный корне проекта в папке postgres. Будут созданы таблицы базы данных;
8. установить Tomcat(контейнер сервлетов). Это можно сделать по ссылке https://tomcat.apache.org/download-80.cgi согласно инструкциям на официальном сайте;
9. запустить Tomcat (bin/startup.bat || bin/startup.sh). После запуска Tomcat, положить файл application.yml, в папку conf/;
10. запустить сборку проекта и полученный war-архив задеплоить на Tomcat либо через графический интерфейс, либо скопировав в папку webapps Tomcat'a;
11. установить Postman для тестирования API приложения. Это можно сделать по ссылке https://www.postman.com/downloads/ согласно инструкциям на официальном сайте;
12. Теперь приложение доступно для http-запросов по ulr http://localhost:8080/Bank-1.0/ +маппинг конкретного сервлета.

 ## Endpoints
 ### POST /accounts
 Проведение операций по счету (снятие, зачисление, перевод и пр.).
 
 Запрос передается в формате JSON вида (отображено снятие наличных):
 
 ![image](https://github.com/YuliyaRR/Bank/assets/110600085/6861b9fe-eac1-494c-831a-5453c14ec574)

 Пример с переводом между счетами:

 ![image](https://github.com/YuliyaRR/Bank/assets/110600085/4ff1ecba-7a89-4a00-87c3-e36ea39623d4)

 В случае успешного проведения операции ответ будет иметь следующий вид:
 
 ![image](https://github.com/YuliyaRR/Bank/assets/110600085/d4bb0b66-d1d3-4638-82b0-e5bc7f0ee814)

 ### GET /reports
 Запрос на предоставление выписки по счету.
 
 В пути запроса передается duration (MONTH, YEAR или ALL) и account(UUID счета).

 Ответ в формате JSON будет иметь вид

 ![image](https://github.com/YuliyaRR/Bank/assets/110600085/7a5b6c3c-8238-422a-8d39-44e5c2259872)

 ### GET /banks
 Запрос на просмотр всех банков с системе
 
 Ответ в формате JSON следующего вида
 
 ![image](https://github.com/YuliyaRR/Bank/assets/110600085/ba88d6fb-4a38-4a44-9db0-1e1822fe634b)

 ### POST /banks
 Запрос на создание нового банка в системе 

 Запрос передается в формате JSON вида

 ![image](https://github.com/YuliyaRR/Bank/assets/110600085/327db3e1-147c-4bd3-9800-8fcc0ead0116)

 ### PUT /banks
 Запрос на обновление информации о банке.
 В пути запроса передается UUID банка, по которому будет обновляться информация. Обновленные данные передаются в теле запроса. Структура как на примере выше.

 ### DELETE /banks
 Запрос на удаление банка из системы. В пути запроса передается UUID банка, который будет удален.

 ### GET /clients
 Запрос на просмотр всех клиентов всех банковв системе
 
 Ответ в формате JSON следующего вида
 
 ![image](https://github.com/YuliyaRR/Bank/assets/110600085/3f39afc1-8637-4528-b97b-49a1da176177)

### POST /clients
Запрос на создание нового клиента в системе 

Запрос передается в формате JSON вида

![image](https://github.com/YuliyaRR/Bank/assets/110600085/5e6a89c2-990b-4ebf-a45e-e54bb01ac59c)

 ### PUT /clients
 Запрос на обновление информации о клиенте.
 В пути запроса передается UUID клиента, по которому будет обновляться информация. Обновленные данные передаются в теле запроса. Структура как на примере выше.

 ### DELETE /clients
 Запрос на удаление клиента из системы. В пути запроса передается UUID клиента, который будет удален.


 
 


 





  
